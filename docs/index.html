<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Pandas module like CSV Parser: Pandas module like CSV Parser</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Pandas module like CSV Parser
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('index.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Pandas module like CSV Parser </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_Top"></a> </p><div class="image">
<img src="header.png" alt="" width="80%"/>
</div>
<p><img src="https://img.shields.io/badge/csv_parser-green" alt="" class="inline"/> <img src="https://img.shields.io/badge/release-b1.0-green" alt="" class="inline"/> <img src="https://img.shields.io/badge/release-developing-red" alt="" class="inline"/> <img src="https://img.shields.io/badge/implementation-header_only-red" alt="" class="inline"/></p>
<p><img src="https://img.shields.io/badge/c%2B%2B%20stable%20ver-17-blue" alt="" class="inline"/> <img src="https://img.shields.io/badge/compiler-gcc-blue" alt="" class="inline"/> <img src="https://img.shields.io/badge/stable_OS-Linux(ubuntu)-yellow" alt="" class="inline"/> <img src="https://img.shields.io/badge/license-MIT-yellow" alt="" class="inline"/> <img src="https://img.shields.io/badge/developer-Keasha-purple" alt="" class="inline"/></p>
<h1><a class="anchor" id="autotoc_md0"></a>
C++でもpandasみたいなことがしたい!</h1>
<p>ということを目標に開発を始めたCSV Parserです.</p>
<ul>
<li>C++でもpandasみたいなことがしたい!</li>
<li>基本情報<ul>
<li>更新履歴</li>
<li>更新予定の情報</li>
</ul>
</li>
<li>使い方<ul>
<li>目次的なやつ</li>
<li>配布物 &amp; ディレクトリ構造</li>
<li>サンプルプログラムの使い方</li>
<li>簡単なAPIリファレンス</li>
</ul>
</li>
<li>生まれた経緯</li>
</ul>
<h1><a class="anchor" id="autotoc_md1"></a>
基本情報</h1>
<ul>
<li>Author: Keasha 改め K. Kotera.</li>
<li>開発開始日: 2024/10/30-.</li>
<li>Version: beta 1.0.1 (2024/11/01).</li>
<li>Header only?: YES. 単一Headerで配布(他のライブラリとの兼ね合いで今後変わるかもしれないけど全部Header onlyにはする).</li>
<li>動作環境<ul>
<li>コンパイラ: C++17以上 ~~(機能としてはC++11のもののみを使ってるのでC++11でも動作はするはず)~~.<ul>
<li>勘違いしてた. 現状はC++17以降じゃないと使えない. 近いうちにC++14以上には対応する予定</li>
</ul>
</li>
<li>OS: Linux(Ubuntu, CentOS)は確認済み、Windowsでもwslを使えばいける.<ul>
<li>ただしLinux使用を想定してるため、改行コードが違うWindowsやMacでは動作がうまくいかないと思われ(ref: <a href="https://www.tohoho-web.com/wwwxx011.htm">とほほ</a>)</li>
<li>暇があれば対応したいわね.</li>
</ul>
</li>
</ul>
</li>
<li>ライセンス: MIT</li>
</ul>
<h4><a class="anchor" id="autotoc_md2"></a>
更新履歴</h4>
<ul>
<li>b 1.0.1 (2024/11/01):<ul>
<li>ドキュメントの修正: <strike>C++14対応</strike> →C++17以降対応, 記述内容を修正.</li>
<li>コードの方もC++14以降に対応できるように修正中.</li>
</ul>
</li>
<li>b 1.0.0 (2024/10/31):初リリース</li>
</ul>
<h4><a class="anchor" id="autotoc_md3"></a>
更新予定の情報</h4>
<ul>
<li>C++14への対応へ向けコードの修正中.</li>
<li>書き込みへの対応.</li>
<li>CERN ROOT-likeな書き方ができるようにも準備中.</li>
</ul>
<h1><a class="anchor" id="autotoc_md4"></a>
使い方</h1>
<h2><a class="anchor" id="autotoc_md5"></a>
目次的なやつ</h2>
<ul>
<li><a href="https://kyasya.github.io/Pandas-like-csv-parser/test_8c.html">チュートリアルのソースコード</a></li>
<li><a href="https://kyasya.github.io/Pandas-like-csv-parser/classKDataFrame.html">メインの制御クラス(KDataFrame Class)のリファレンス</a></li>
</ul>
<h2><a class="anchor" id="autotoc_md6"></a>
配布物 &amp; ディレクトリ構造</h2>
<ul>
<li><b>配布物</b></li>
<li><code><a class="el" href="KDataFrame_8h.html" title="pandas module like CSV parser">KDataFrame.h</a></code>: <b>これが本体</b>.</li>
<li><code><a class="el" href="test_8c.html">test.c</a></code>: サンプルプログラム.</li>
<li><code>test.csv</code>: 適当に作ったサンプル用csvファイル.</li>
<li><b>ディレクトリ構造</b></li>
</ul>
<div class="fragment"><div class="line">. # 以下の作業ではここが基準になります</div>
<div class="line">├─ header</div>
<div class="line">|  └─ KDataFrame.h # これがメイン</div>
<div class="line">├─ pics # (関係なし)</div>
<div class="line">└─ sample</div>
<div class="line">   ├─ test.c # テスト用のファイル</div>
<div class="line">   └─ test.csv # テスト用のcsvファイル</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md7"></a>
サンプルプログラムの使い方</h2>
<p>サンプルプログラムを動かすには**配布物をすべて同じディレクトリに配置**してください。(メインのヘッダファイルはサンプルと混ざって理由がわからなくならないように配布時にはわざと分けています) なので、まずカレントディレクトリ「配布物」で列挙したファイルをすべてコピーします。</p>
<div class="fragment"><div class="line">cp header/KDataFrame.h .</div>
<div class="line">cp sample/test* .</div>
</div><!-- fragment --><p>もちろん自分で<code><a class="el" href="test_8c.html">test.c</a></code>を書いてくれてもおｋ (関数の説明も兼ねて次節で解説).とりまここまですればこうなってるはず</p>
<div class="fragment"><div class="line">. </div>
<div class="line">├─ KDataFrame.h # コピーしたやつ</div>
<div class="line">├─ test.c # コピーしたやつ</div>
<div class="line">├─ test.csv # コピーしたやつ</div>
<div class="line">├─ header</div>
<div class="line">├─ pics</div>
<div class="line">└─ sample</div>
</div><!-- fragment --><p>あとは普通にコンパイルするだけ(ヘッダオンリーだから楽だね!)</p>
<div class="fragment"><div class="line">g++ test.c -o test.out</div>
</div><!-- fragment --><p>実行</p>
<div class="fragment"><div class="line">./test.out</div>
</div><!-- fragment --><p>実行したら下の図の感じになっているはず。</p>
<div class="image">
<img src="sample.png" alt=""/>
</div>
<h2><a class="anchor" id="autotoc_md8"></a>
簡単なAPIリファレンス</h2>
<p><code><a class="el" href="test_8c.html">sample/test.c</a></code>にあるコードが現状できることのすべてレベル.</p>
<div class="fragment"><div class="line"> ++</div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="KDataFrame_8h.html">KDataFrame.h</a>&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> <a class="code hl_function" href="test_8c.html#a3c04138a5bfe5d72780bb7e82a18e627">main</a> (<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv)</div>
<div class="line">{</div>
<div class="line">    <a class="code hl_class" href="classKDataFrame.html">KDataFrame</a> df(<span class="stringliteral">&quot;./test.csv&quot;</span>);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// カラムの一覧を表示(名前、年齢、身長)</span></div>
<div class="line">    std::cout&lt;&lt;<span class="stringliteral">&quot;Key: &quot;</span>&lt;&lt;df.GetDFInfo().Keys()&lt;&lt;std::endl; </div>
<div class="line"> </div>
<div class="line">    df.Scan(); <span class="comment">// csv内のデータの情報を表で表示</span></div>
<div class="line"> </div>
<div class="line">    <span class="comment">// データの取り出し</span></div>
<div class="line">    <span class="comment">// 文字列でいいとき</span></div>
<div class="line">    <span class="keyword">auto</span> Data0 =  df[<span class="stringliteral">&quot;Name&quot;</span>];</div>
<div class="line">    <span class="keywordflow">for</span>(<span class="keyword">auto</span> &amp;v : Data0) std::cout&lt;&lt;v&lt;&lt;<span class="stringliteral">&quot;, &quot;</span>;</div>
<div class="line">    std::cout&lt;&lt;<span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// 上と同じ意味</span></div>
<div class="line">    <span class="comment">// df[&quot;Name&quot;] &lt;=&gt; df.GetcolumnStr(&quot;Name&quot;)</span></div>
<div class="line">    <span class="keyword">auto</span> Data1 = df.GetcolumnStr(<span class="stringliteral">&quot;Name&quot;</span>);</div>
<div class="line">    <span class="keywordflow">for</span>(<span class="keyword">auto</span> &amp;v : Data1) std::cout&lt;&lt;v&lt;&lt;<span class="stringliteral">&quot;, &quot;</span>;</div>
<div class="line">    std::cout&lt;&lt;<span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"> </div>
<div class="line">    std::cout&lt;&lt;<span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// 数字として取り出したい(文字列をキャストして取り出したい)とき</span></div>
<div class="line">    <span class="keyword">auto</span> Data = df.Get&lt;<span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;Age&quot;</span>);</div>
<div class="line">    <span class="keywordflow">for</span>(<span class="keyword">auto</span> &amp;v : Data) std::cout&lt;&lt;v&lt;&lt;<span class="stringliteral">&quot;, &quot;</span>;</div>
<div class="line">    std::cout&lt;&lt;<span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="ttc" id="aKDataFrame_8h_html"><div class="ttname"><a href="KDataFrame_8h.html">KDataFrame.h</a></div><div class="ttdoc">pandas module like CSV parser</div></div>
<div class="ttc" id="aclassKDataFrame_html"><div class="ttname"><a href="classKDataFrame.html">KDataFrame</a></div><div class="ttdoc">KDataFrame class CSVパーサの制御クラス. ここだけ触っていればおｋ.</div><div class="ttdef"><b>Definition</b> <a href="KDataFrame_8h_source.html#l00125">KDataFrame.h:126</a></div></div>
<div class="ttc" id="atest_8c_html_a3c04138a5bfe5d72780bb7e82a18e627"><div class="ttname"><a href="test_8c.html#a3c04138a5bfe5d72780bb7e82a18e627">main</a></div><div class="ttdeci">int main(int argc, char **argv)</div><div class="ttdef"><b>Definition</b> <a href="test_8c_source.html#l00005">test.c:5</a></div></div>
</div><!-- fragment --><p>解説としては以下の通り.</p>
<ul>
<li>ローカルに置いて使っているので<code>#include</code>は二重引用符("").</li>
<li><code><a class="el" href="classKDataFrame.html" title="KDataFrame class CSVパーサの制御クラス. ここだけ触っていればおｋ.">KDataFrame</a> df("./test.csv")</code>: constructor. 読み込みたいファイル名を指定.</li>
<li><code>df.GetDFInfo().Keys()</code>: キーを取得.<ul>
<li><code>df.GetDFInfo()</code>: CSVの情報を取得している.</li>
</ul>
</li>
<li><code>df.Scan()</code>: csvの内容を表形式で表示. <b>NOTE: 長すぎるとカットされる.</b></li>
<li>データの取得:<ul>
<li>文字列でいいとき(後で整数なり少数なりに変換するとき):<ul>
<li><code>df["カラム名"]</code>で取得できる. これは<code>df.GetcolumnStr("カラム名")</code>と同じ.</li>
</ul>
</li>
<li>数字などの別の型で取り出したいとき:<ul>
<li><code>df.Get&lt;型&gt;("カラム名")</code></li>
<li>テスト段階であることもあって<code>int</code>, <code>double</code>のみ対応. これから増やしていく.</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><a href="https://kyasya.github.io/Pandas-like-csv-parser/"><b>リファレンスガイドはこちら</b></a></p>
<h1><a class="anchor" id="autotoc_md9"></a>
生まれた経緯</h1>
<p>上に書いてあることがすべてみたいなところがあるが… 数年前、別のCSV Parserを作って使っていたのだけど、それを改造中に本業が忙しくなり放置してたら壊れちゃった…しかも数千行くらいあるからなにがなんだかわからん! ので一年くらい毎回毎回CSVのプログラムを書いていたのだけど、C++でCSVのプログラムを書いているとカラムが増えたときの対応が大変！例えば…</p>
<p>"Age"という名前のカラムは読み出したデータの配列のx番目だから配列(vector)のx番目を指定して…</p>
<p>っていうのを何度も考えないといけない。クソめんどい。Pythonの<a href="https://pandas.pydata.org/">pandas</a>モジュールなら</p>
<div class="fragment"><div class="line">df[&quot;Age&quot;]</div>
</div><!-- fragment --><p>だけで全部のデータを一気に取ってこれる！。これがほしい。というか昔作ってたのはそれができたし、何なら書き出しもできた… ということで「せめて読み出しだけはできるようにしよう…そのほうが結局時短になるわ…」ということで再開発を始めることに…</p>
<p>最終的には読み書きができることを目標です.</p>
<p>研究で使う環境がC++14以上なのでそれに対応できるように作っていきたい(と言いながら初日からミスが発覚したので別の方法を考え中だが…). </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
